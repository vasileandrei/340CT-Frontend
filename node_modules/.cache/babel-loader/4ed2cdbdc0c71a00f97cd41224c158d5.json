{"ast":null,"code":"import _defineProperty from \"D:\\\\University\\\\Frontend-340CT\\\\frontend340ct\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\University\\\\Frontend-340CT\\\\frontend340ct\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"D:\\\\University\\\\Frontend-340CT\\\\frontend340ct\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\University\\\\Frontend-340CT\\\\frontend340ct\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\University\\\\Frontend-340CT\\\\frontend340ct\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\University\\\\Frontend-340CT\\\\frontend340ct\\\\src\\\\components\\\\Profile\\\\Profile.js\";\nimport React, { Component } from 'react';\nimport { Button, FormGroup, FormControl } from 'react-bootstrap';\nimport { CSSTransition } from 'react-transition-group';\nimport { SyncLoader } from 'react-spinners';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport pencil from './images/pencil.png';\nimport './Profile.css';\nvar zero = 0;\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this, props));\n\n    _this._showFlashMessage = function () {\n      _this.setState({\n        show: !_this.state.show,\n        showClass: !_this.state.show ? 'fadeOut' : 'fadeOut2'\n      });\n    };\n\n    _this.validateForm = function () {\n      if (_this.state.fullName.length > zero && _this.state.email.length > zero && _this.state.inputMessage.length > zero) {\n        return true;\n      }\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      if (_this.state.usernameDisplay && _this.state.emailDisplay) {\n        if (_this.state.username.length > zero && _this.state.email.length > zero) {\n          _this.setState({\n            loading: true\n          });\n\n          _this.submit();\n        } else {\n          _this.setState({\n            message: 'Please complete both fields'\n          });\n        }\n      } else if (_this.state.usernameDisplay) {\n        if (_this.state.username.length > zero) {\n          _this.setState({\n            loading: true\n          });\n\n          _this.submit();\n        } else {\n          _this.setState({\n            message: 'Please complete the username field'\n          });\n        }\n      } else if (_this.state.emailDisplay) {\n        if (_this.state.email.length > zero) {\n          _this.setState({\n            loading: true\n          });\n\n          _this.submit();\n        } else {\n          _this.setState({\n            message: 'Please complete the email field'\n          });\n        }\n      }\n    };\n\n    _this.submit = function () {\n      _this.setState({\n        message: 'Successfully updated profile',\n        loading: false\n      });\n    };\n\n    _this.showUsernameField = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        usernameDisplay: !_this.state.usernameDisplay\n      });\n    };\n\n    _this.showEmailField = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        emailDisplay: !_this.state.emailDisplay\n      });\n    };\n\n    _this.render = function () {\n      var isAuthenticated = _this.props.auth.isAuthenticated;\n      var userInfo;\n      var usernameField;\n      var emailField;\n      var submitButton;\n\n      if (isAuthenticated) {\n        userInfo = _this.props.auth.user.userInfo;\n      }\n\n      if (_this.state.usernameDisplay) {\n        usernameField = React.createElement(FormControl, {\n          className: \"input\",\n          type: \"text\",\n          placeholder: \"New Username\",\n          value: _this.state.username,\n          onChange: _this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        });\n      }\n\n      if (_this.state.emailDisplay) {\n        emailField = React.createElement(FormControl, {\n          className: \"input\",\n          type: \"email\",\n          placeholder: \"New Email\",\n          value: _this.state.email,\n          onChange: _this.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        });\n      }\n\n      if (_this.state.usernameDisplay || _this.state.emailDisplay) {\n        submitButton = React.createElement(CSSTransition, {\n          in: _this.state.appearProfile,\n          appear: true,\n          timeout: 300,\n          classNames: \"fade\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(FormGroup, {\n          className: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(Button, {\n          type: \"submit\",\n          name: \"submit\",\n          disabled: !_this.validateForm,\n          onClick: _this.showFlashMessage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, \"Submit\")));\n      }\n\n      return React.createElement(CSSTransition, {\n        in: _this.state.appearProfile,\n        appear: true,\n        timeout: 300,\n        classNames: \"fade\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"profile\",\n        onSubmit: _this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"profileDescription\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Update your profile\"), React.createElement(FormGroup, {\n        className: \"text\",\n        controlId: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"left-side\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Current Username:\", React.createElement(\"span\", {\n        className: \"right-side\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, userInfo.username), React.createElement(\"img\", {\n        alt: \"Pencil Edit Img\",\n        className: \"pencil\",\n        src: pencil,\n        onClick: _this.showUsernameField,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })), usernameField), React.createElement(FormGroup, {\n        className: \"email\",\n        controlId: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"left-side\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Current Email:\", React.createElement(\"span\", {\n        className: \"right-side\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, userInfo.email), React.createElement(\"img\", {\n        alt: \"Pencil Edit Img\",\n        className: \"pencil\",\n        src: pencil,\n        onClick: _this.showEmailField,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      })), emailField), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(SyncLoader, {\n        sizeUnit: 'px',\n        size: 10,\n        color: 'rgba(113, 137, 255, 0.9)',\n        loading: _this.state.loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: _this.state.showClass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, _this.state.message), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), submitButton));\n    };\n\n    _this.state = {\n      username: '',\n      usernameDisplay: false,\n      email: '',\n      emailDisplay: false,\n      appearProfile: true,\n      loading: false,\n      message: ''\n    };\n\n    _this.showFlashMessage = function (event) {\n      return _this._showFlashMessage(event);\n    };\n\n    return _this;\n  } // eslint-disable-next-line no-unused-vars\n\n\n  return Profile;\n}(Component);\n\nProfile.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n}\n\nexport default connect(mapStateToProps)(Profile);","map":{"version":3,"sources":["D:\\University\\Frontend-340CT\\frontend340ct\\src\\components\\Profile\\Profile.js"],"names":["React","Component","Button","FormGroup","FormControl","CSSTransition","SyncLoader","connect","PropTypes","pencil","zero","Profile","props","_showFlashMessage","setState","show","state","showClass","validateForm","fullName","length","email","inputMessage","handleChange","event","target","id","value","handleSubmit","preventDefault","usernameDisplay","emailDisplay","username","loading","submit","message","showUsernameField","showEmailField","render","isAuthenticated","auth","userInfo","usernameField","emailField","submitButton","user","appearProfile","showFlashMessage","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, FormGroup, FormControl } from 'react-bootstrap';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { SyncLoader } from 'react-spinners';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport pencil from './images/pencil.png';\r\nimport './Profile.css';\r\n\r\nconst zero = 0;\r\n\r\nclass Profile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            usernameDisplay: false,\r\n            email: '',\r\n            emailDisplay: false,\r\n            appearProfile: true,\r\n            loading: false,\r\n            message: ''\r\n        };\r\n        this.showFlashMessage = (event) => this._showFlashMessage(event);\r\n    }\r\n\r\n\r\n    // eslint-disable-next-line no-unused-vars\r\n    _showFlashMessage = () => {\r\n        this.setState({\r\n          show: !this.state.show,\r\n          showClass: (!this.state.show ? 'fadeOut': 'fadeOut2')\r\n        });\r\n    }\r\n\r\n    validateForm = () => {\r\n        if (this.state.fullName.length > zero && this.state.email.length > zero &&\r\n        this.state.inputMessage.length > zero) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    // handle changes in the three fields\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.id]: event.target.value\r\n        });\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (this.state.usernameDisplay && this.state.emailDisplay) {\r\n            if (this.state.username.length > zero && this.state.email.length > zero){\r\n                this.setState({\r\n                    loading: true\r\n                });\r\n                this.submit();\r\n            } else {\r\n                this.setState({\r\n                    message: 'Please complete both fields'\r\n                });\r\n            }\r\n        } else if (this.state.usernameDisplay) {\r\n            if (this.state.username.length > zero){\r\n                this.setState({\r\n                    loading: true\r\n                });\r\n                this.submit();\r\n            } else {\r\n                this.setState({\r\n                    message: 'Please complete the username field'\r\n                });\r\n            }\r\n        } else if (this.state.emailDisplay) {\r\n            if (this.state.email.length > zero){\r\n                this.setState({\r\n                    loading: true\r\n                });\r\n                this.submit();\r\n            } else {\r\n                this.setState({\r\n                    message: 'Please complete the email field'\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    submit = () => {\r\n        this.setState({\r\n            message: 'Successfully updated profile',\r\n            loading: false\r\n        });\r\n    }\r\n\r\n    showUsernameField = (event) => {\r\n        event.preventDefault();\r\n        this.setState({\r\n            usernameDisplay: !this.state.usernameDisplay\r\n        });\r\n    }\r\n\r\n    showEmailField = (event) => {\r\n        event.preventDefault();\r\n        this.setState({\r\n            emailDisplay: !this.state.emailDisplay\r\n        });\r\n    }\r\n\r\n    render = () =>{\r\n        const { isAuthenticated } = this.props.auth;\r\n        let userInfo;\r\n        let usernameField;\r\n        let emailField;\r\n        let submitButton;\r\n        if (isAuthenticated) {\r\n            userInfo = this.props.auth.user.userInfo;\r\n        }\r\n        if (this.state.usernameDisplay) {\r\n            usernameField =\r\n            <FormControl className=\"input\" type=\"text\" placeholder=\"New Username\" value={this.state.username} onChange={this.handleChange} />;\r\n        }\r\n        if (this.state.emailDisplay) {\r\n            emailField =\r\n            <FormControl className=\"input\" type=\"email\" placeholder=\"New Email\" value={this.state.email} onChange={this.handleChange} />;\r\n        }\r\n        if (this.state.usernameDisplay || this.state.emailDisplay) {\r\n            submitButton =\r\n            <CSSTransition\r\n                in={this.state.appearProfile}\r\n                appear={true}\r\n                timeout={300}\r\n                classNames=\"fade\"\r\n                >\r\n                <FormGroup className=\"submit\">\r\n                    <Button type=\"submit\" name=\"submit\" disabled={!this.validateForm} onClick={this.showFlashMessage}>Submit</Button>\r\n                </FormGroup>\r\n            </CSSTransition>;\r\n        }\r\n        return (\r\n            <CSSTransition\r\n                in={this.state.appearProfile}\r\n                appear={true}\r\n                timeout={300}\r\n                classNames=\"fade\"\r\n                >\r\n                <form className=\"profile\" onSubmit={this.handleSubmit}>\r\n                <p className=\"profileDescription\">Update your profile</p>\r\n                    <FormGroup className=\"text\" controlId=\"username\">\r\n                        <p className=\"left-side\">Current Username:\r\n                            <span className=\"right-side\">{userInfo.username}</span>\r\n                            <img alt=\"Pencil Edit Img\" className=\"pencil\" src={pencil} onClick={this.showUsernameField} />\r\n                        </p>\r\n                        {usernameField}\r\n                    </FormGroup>\r\n                    <FormGroup className=\"email\" controlId=\"email\">\r\n                        <p className=\"left-side\">Current Email:\r\n                            <span className=\"right-side\">{userInfo.email}</span>\r\n                            <img alt=\"Pencil Edit Img\" className=\"pencil\" src={pencil} onClick={this.showEmailField} />\r\n                        </p>\r\n                        {emailField}\r\n                    </FormGroup>\r\n                    <br />\r\n                    <SyncLoader\r\n                        sizeUnit={'px'}\r\n                        size={10}\r\n                        color={'rgba(113, 137, 255, 0.9)'}\r\n                        loading={this.state.loading}\r\n                    />\r\n                    <div className={this.state.showClass}>\r\n                        {this.state.message}\r\n                    </div>\r\n                    <br />\r\n                    {submitButton}\r\n                </form>\r\n            </CSSTransition>\r\n        );\r\n    }\r\n}\r\n\r\nProfile.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        auth: state.auth\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile);\r\n"]},"metadata":{},"sourceType":"module"}